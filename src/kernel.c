#include "print/print.h"
#include "idt/idt.h"
#include "alloc/alloc.h"
#include "asserts/assert.h"

char* logo[] = {
  " .-----------. .--------------. .-----------. .--------------. .--------------.",
  "|  ______    | |  _______     | |   _____   | |     ______   | |  ___  ____   |",
  "| |_   _ \\   | | |_   __ \\    | |  |_   _|  | |   .' ___  |  | | |_  ||_  _|  |",
  "|   | |_) |  | |   | |__) |   | |    | |    | |  / .'   \\_|  | |   | |_/ /    |",
  "|   |  __ \\  | |   |  __ /    | |    | |    | |  | |         | |   |  __'.    |",
  "|  _| |__) | | |  _| |  \\ \\_  | |   _| |_   | |  \\ `.___.'\\  | |  _| |  \\ \\_  |",
  "| |_______/  | | |____| |___| | |  |_____|  | |   `._____.'  | | |____||____| |",
  "|            | |              | |           | |              | |              |",
  "\\-----------/ \\--------------/ \\-----------/ \\--------------/ \\--------------/",
  "\\.---------------.                                .-----------------------./",
  "                  \\.-------------. .------------./",
  "                   |     ___     | |    _____   |",
  "                   |   .'   '.   | |  /  __  |  |",
  "                   |  /  / \\  \\  | |  | (_ \\_|  |",
  "                   |  | |   | |  | |  '.__`-.   |",
  "                   |  \\  \\_/  /  | |   ____) |  |",
  "                   |   `.___.'   | |  \\_____.'  |",
  "                   |             | |            |",
  "                    \\-----------/   \\----------/",
};

void kernel_entry() {
  init_alloc();
  vga_clear_screen(); 
  //init_idt();
  //print_format("%x\n%d\n", 0xFE987514, 789654123);
  //asm ( "sti" : :);
  //kernel_panic("%x\n%d\n", 0xFE987514, 789654123);
  char* str = "hello from panic";
  kernel_assert(0, str)
  //kernel_panic("Panic!");
  for (;;);
}

void print_logo() {
  for (int i = 0; i < sizeof(logo) / sizeof(logo[0]); i++) {
    println(logo[i]);
  }
  println("BrickOS");
  println("Version 1.0");
  println("Copyright (C) 2023");
}
